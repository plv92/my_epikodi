{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/plv92/Desktop/TEK3/Epikodi/src/context/ThemeContext.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useEffect, useState, ReactNode } from \"react\";\n\ntype Theme = \"light\" | \"dark\";\n\ntype ThemeContextType = {\n  theme: Theme;\n  toggleTheme: () => void;\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\nexport function ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setTheme] = useState<Theme>(\"dark\");\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    setMounted(true);\n    // Charger le thÃ¨me depuis localStorage\n    const savedTheme = localStorage.getItem(\"theme\") as Theme;\n    if (savedTheme) {\n      setTheme(savedTheme);\n    } else {\n      // DÃ©tecter la prÃ©fÃ©rence systÃ¨me\n      const prefersDark = window.matchMedia(\"(prefers-color-scheme: dark)\").matches;\n      setTheme(prefersDark ? \"dark\" : \"light\");\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!mounted) return;\n\n    // Appliquer le thÃ¨me\n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(theme);\n    localStorage.setItem(\"theme\", theme);\n  }, [theme, mounted]);\n\n  const toggleTheme = () => {\n    setTheme((t) => (t === \"dark\" ? \"light\" : \"dark\"));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    // Retourner une valeur par dÃ©faut pendant le SSR au lieu de throw\n    return { theme: \"dark\" as Theme, toggleTheme: () => {} };\n  }\n  return context;\n};\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAWA,MAAM,6BAAe,CAAA,GAAA,qMAAA,CAAA,gBAAa,AAAD,EAAgC;AAE1D,SAAS,cAAc,EAAE,QAAQ,EAA2B;IACjE,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS;IAC1C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,WAAW;QACX,uCAAuC;QACvC,MAAM,aAAa,aAAa,OAAO,CAAC;QACxC,IAAI,YAAY;YACd,SAAS;QACX,OAAO;YACL,iCAAiC;YACjC,MAAM,cAAc,OAAO,UAAU,CAAC,gCAAgC,OAAO;YAC7E,SAAS,cAAc,SAAS;QAClC;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,CAAC,SAAS;QAEd,qBAAqB;QACrB,MAAM,OAAO,SAAS,eAAe;QACrC,KAAK,SAAS,CAAC,MAAM,CAAC,SAAS;QAC/B,KAAK,SAAS,CAAC,GAAG,CAAC;QACnB,aAAa,OAAO,CAAC,SAAS;IAChC,GAAG;QAAC;QAAO;KAAQ;IAEnB,MAAM,cAAc;QAClB,SAAS,CAAC,IAAO,MAAM,SAAS,UAAU;IAC5C;IAEA,qBACE,8OAAC,aAAa,QAAQ;QAAC,OAAO;YAAE;YAAO;QAAY;kBAChD;;;;;;AAGP;AAEO,MAAM,WAAW;IACtB,MAAM,UAAU,CAAA,GAAA,qMAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,kEAAkE;QAClE,OAAO;YAAE,OAAO;YAAiB,aAAa,KAAO;QAAE;IACzD;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///home/plv92/Desktop/TEK3/Epikodi/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useTheme } from \"@/context/ThemeContext\";\nimport { Sun, Moon } from \"lucide-react\";\n\nexport default function Navbar() {\n  const { theme, toggleTheme } = useTheme();\n\n  return (\n    <div className=\"h-16 px-6 flex items-center justify-between bg-gray-100 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700\">\n      <h1 className=\"text-xl font-semibold\">My Epikodi ðŸŽµ</h1>\n      <button\n        onClick={toggleTheme}\n        className=\"p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\n        title={theme === \"dark\" ? \"Mode clair\" : \"Mode sombre\"}\n      >\n        {theme === \"dark\" ? <Sun size={20} /> : <Moon size={20} />}\n      </button>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,+HAAA,CAAA,WAAQ,AAAD;IAEtC,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBACC,SAAS;gBACT,WAAU;gBACV,OAAO,UAAU,SAAS,eAAe;0BAExC,UAAU,uBAAS,8OAAC,gMAAA,CAAA,MAAG;oBAAC,MAAM;;;;;yCAAS,8OAAC,kMAAA,CAAA,OAAI;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAI5D","debugId":null}},
    {"offset": {"line": 166, "column": 0}, "map": {"version":3,"sources":["file:///home/plv92/Desktop/TEK3/Epikodi/src/context/AudioContext.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  createContext,\n  useContext,\n  useRef,\n  useState,\n  useEffect,\n  ReactNode,\n} from \"react\";\n\nexport type Track = {\n  id?: number;\n  title: string;\n  artist: string;\n  album?: string;\n  cover?: string;\n  url: string;\n};\n\ntype AudioContextType = {\n  currentTrack: Track | null;\n  isPlaying: boolean;\n  playTrack: (track: Track) => void;\n  play: () => void;\n  pause: () => void;\n  seek: (time: number) => void;\n  progress: number;\n  duration: number;\n  queue: Track[];\n  addToQueue: (track: Track) => void;\n  next: () => void;\n  previous: () => void;\n  removeFromQueue: (index: number) => void;\n  volume: number;\n  setVolume: (v: number) => void;\n  shuffle: boolean;\n  toggleShuffle: () => void;\n  repeat: \"none\" | \"one\" | \"all\";\n  toggleRepeat: () => void;\n  playPlaylist: (tracks: Track[]) => void;\n};\n\nconst AudioContext = createContext<AudioContextType | undefined>(undefined);\n\nexport function AudioProvider({ children }: { children: ReactNode }) {\n  const [currentTrack, setCurrentTrack] = useState<Track | null>(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [queue, setQueue] = useState<Track[]>([]);\n  const [volume, setVolume] = useState(1);\n  const [shuffle, setShuffle] = useState(false);\n  const [repeat, setRepeat] = useState<\"none\" | \"one\" | \"all\">(\"none\");\n  const [history, setHistory] = useState<Track[]>([]);\n  const [originalQueue, setOriginalQueue] = useState<Track[]>([]);\n  const audioRef = useRef<HTMLAudioElement | null>(null);\n\n  const playTrack = (track: Track) => {\n    setCurrentTrack(track);\n    setIsPlaying(true);\n    setTimeout(() => {\n      audioRef.current?.play();\n    }, 0);\n  };\n\n  const play = () => {\n    audioRef.current?.play();\n    setIsPlaying(true);\n  };\n  const pause = () => {\n    audioRef.current?.pause();\n    setIsPlaying(false);\n  };\n  const seek = (time: number) => {\n    if (audioRef.current) {\n      audioRef.current.currentTime = time;\n      setProgress(time);\n    }\n  };\n\n  // Ajoute Ã  la file d'attente\n  const addToQueue = (track: Track) => {\n    setQueue(q => q.some(t => t.url === track.url) ? q : [...q, track]);\n  };\n\n  // Joue une playlist entiÃ¨re\n  const playPlaylist = (tracks: Track[]) => {\n    if (tracks.length === 0) return;\n    const [first, ...rest] = tracks;\n    setCurrentTrack(first);\n    setQueue(rest);\n    setOriginalQueue(rest);\n    setHistory([]);\n    setIsPlaying(true);\n  };\n\n  // Toggle shuffle\n  const toggleShuffle = () => {\n    setShuffle(s => {\n      if (!s) {\n        // Activation du shuffle : mÃ©langer la queue\n        setQueue(q => [...q].sort(() => Math.random() - 0.5));\n      } else {\n        // DÃ©sactivation : restaurer l'ordre original\n        setQueue(originalQueue);\n      }\n      return !s;\n    });\n  };\n\n  // Toggle repeat\n  const toggleRepeat = () => {\n    setRepeat(r => {\n      if (r === \"none\") return \"all\";\n      if (r === \"all\") return \"one\";\n      return \"none\";\n    });\n  };\n\n  // Retire un morceau de la file d'attente\n  const removeFromQueue = (index: number) => {\n    setQueue((q) => q.filter((_, i) => i !== index));\n  };\n\n  // Piste prÃ©cÃ©dente\n  const previous = () => {\n    if (history.length > 0) {\n      const [prevTrack, ...restHistory] = [...history].reverse();\n      if (currentTrack) {\n        setQueue(q => [currentTrack, ...q]);\n      }\n      setCurrentTrack(prevTrack);\n      setHistory(restHistory.reverse());\n      setIsPlaying(true);\n    } else if (audioRef.current && audioRef.current.currentTime > 3) {\n      // Si plus de 3s, revenir au dÃ©but\n      audioRef.current.currentTime = 0;\n    }\n  };\n\n  // Passe au morceau suivant dans la file d'attente\n  const next = () => {\n    if (repeat === \"one\" && currentTrack) {\n      // RÃ©pÃ©ter la mÃªme piste\n      if (audioRef.current) {\n        audioRef.current.currentTime = 0;\n        audioRef.current.play();\n      }\n      return;\n    }\n\n    if (currentTrack) {\n      setHistory(h => [...h, currentTrack]);\n    }\n\n    if (queue.length > 0) {\n      const [nextTrack, ...rest] = queue;\n      setCurrentTrack(nextTrack);\n      setQueue(rest);\n      setIsPlaying(true);\n    } else if (repeat === \"all\" && currentTrack) {\n      // RÃ©pÃ©ter toute la playlist\n      if (history.length > 0) {\n        const allTracks = [...history, currentTrack];\n        const [first, ...rest] = shuffle \n          ? [...allTracks].sort(() => Math.random() - 0.5)\n          : allTracks;\n        setCurrentTrack(first);\n        setQueue(rest);\n        setHistory([]);\n        setIsPlaying(true);\n      } else {\n        // Une seule piste, la rÃ©pÃ©ter\n        if (audioRef.current) {\n          audioRef.current.currentTime = 0;\n          audioRef.current.play();\n        }\n      }\n    } else {\n      setIsPlaying(false);\n      setCurrentTrack(null);\n      setQueue([]);\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current.currentTime = 0;\n      }\n    }\n  };\n\n  // Gestion de la progression\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    const update = () => {\n      setProgress(audio.currentTime);\n      setDuration(audio.duration || 0);\n    };\n    audio.addEventListener(\"timeupdate\", update);\n    audio.addEventListener(\"loadedmetadata\", update);\n    audio.addEventListener(\"ended\", next);\n    return () => {\n      audio.removeEventListener(\"timeupdate\", update);\n      audio.removeEventListener(\"loadedmetadata\", update);\n      audio.removeEventListener(\"ended\", next);\n    };\n  }, [queue, currentTrack]);\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume;\n    }\n  }, [volume]);\n\n  return (\n    <AudioContext.Provider\n      value={{\n        currentTrack,\n        isPlaying,\n        playTrack,\n        play,\n        pause,\n        seek,\n        progress,\n        duration,\n        queue,\n        addToQueue,\n        next,\n        previous,\n        removeFromQueue,\n        volume,\n        setVolume,\n        shuffle,\n        toggleShuffle,\n        repeat,\n        toggleRepeat,\n        playPlaylist,\n      }}\n    >\n      {children}\n      <audio\n        ref={audioRef}\n        src={currentTrack?.url}\n        autoPlay={isPlaying}\n        onPlay={() => setIsPlaying(true)}\n        onPause={() => setIsPlaying(false)}\n        onLoadedMetadata={() => {\n          // Si on veut jouer, on (re)lance play ici\n          if (isPlaying) {\n            audioRef.current?.play().catch(() => {});\n          }\n        }}\n      />\n    </AudioContext.Provider>\n  );\n}\n\nexport const useAudio = () => {\n  const ctx = useContext(AudioContext);\n  if (!ctx) throw new Error(\"useAudio must be used within AudioProvider\");\n  return ctx;\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 412, "column": 0}, "map": {"version":3,"sources":["file:///home/plv92/Desktop/TEK3/Epikodi/src/components/PersistentAudioPlayer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useAudio } from \"@/context/AudioContext\"\nimport { useState, useEffect } from \"react\"\nimport { Shuffle, Repeat, Repeat1, SkipBack, SkipForward } from \"lucide-react\"\n\nexport default function PersistentAudioPlayer() {\n  const { \n    currentTrack, \n    isPlaying, \n    play, \n    pause, \n    next, \n    previous,\n    seek, \n    progress, \n    duration, \n    volume, \n    setVolume,\n    shuffle,\n    toggleShuffle,\n    repeat,\n    toggleRepeat\n  } = useAudio()\n  const [seeking, setSeeking] = useState(false)\n  const [seekValue, setSeekValue] = useState(0)\n\n  useEffect(() => {\n    if (!seeking) setSeekValue(progress)\n  }, [progress, seeking])\n\n  if (!currentTrack) return null\n\n  return (\n    <div className=\"fixed bottom-0 left-0 right-0 z-50 bg-gray-900/95 border-t border-gray-800 shadow-lg flex items-center px-4 py-2\">\n      {/* Cover */}\n      <img\n        src={currentTrack.cover || \"/default-cover.png\"}\n        alt=\"cover\"\n        className=\"w-16 h-16 object-cover rounded shadow mr-4\"\n      />\n      {/* Infos */}\n      <div className=\"flex flex-col flex-1 min-w-0\">\n        <div className=\"truncate font-semibold text-lg\">{currentTrack.title}</div>\n        <div className=\"truncate text-gray-300 text-sm\">{currentTrack.artist}{currentTrack.album && <> â€” <span className=\"italic\">{currentTrack.album}</span></>}</div>\n        {/* Barre de progression */}\n        <div className=\"flex items-center gap-2 mt-1\">\n          <span className=\"text-xs text-gray-400 w-10 text-right\">{formatTime(seekValue)}</span>\n          <input\n            type=\"range\"\n            min={0}\n            max={duration || 1}\n            value={seeking ? seekValue : progress}\n            onChange={e => {\n              setSeekValue(Number(e.target.value))\n              setSeeking(true)\n            }}\n            onMouseUp={e => {\n              seek(Number((e.target as HTMLInputElement).value))\n              setSeeking(false)\n            }}\n            onTouchEnd={e => {\n              seek(seekValue)\n              setSeeking(false)\n            }}\n            className=\"flex-1 accent-kodi-blue\"\n          />\n          <span className=\"text-xs text-gray-400 w-10\">{formatTime(duration)}</span>\n        </div>\n      </div>\n      {/* ContrÃ´les */}\n      <div className=\"flex items-center gap-2 ml-4\">\n        {/* Shuffle */}\n        <button \n          onClick={toggleShuffle}\n          className={`p-2 rounded-full ${shuffle ? 'bg-kodi-blue text-white' : 'hover:bg-gray-700'}`}\n          title=\"Lecture alÃ©atoire\"\n        >\n          <Shuffle size={18} />\n        </button>\n        \n        {/* Previous */}\n        <button\n          onClick={previous}\n          className=\"p-2 hover:bg-gray-700 rounded-full\"\n          title=\"PrÃ©cÃ©dent\"\n        >\n          <SkipBack size={20} />\n        </button>\n        \n        {/* Play/Pause */}\n        {isPlaying ? (\n          <button\n            onClick={pause}\n            className=\"p-3 bg-kodi-blue hover:bg-blue-700 rounded-full text-white mx-1\"\n            title=\"Pause\"\n          >\n            <svg width=\"28\" height=\"28\" fill=\"currentColor\"><rect x=\"6\" y=\"5\" width=\"5\" height=\"18\"/><rect x=\"17\" y=\"5\" width=\"5\" height=\"18\"/></svg>\n          </button>\n        ) : (\n          <button\n            onClick={play}\n            className=\"p-3 bg-kodi-blue hover:bg-blue-700 rounded-full text-white mx-1\"\n            title=\"Lecture\"\n          >\n            <svg width=\"28\" height=\"28\" fill=\"currentColor\"><polygon points=\"5,3 25,14 5,25\"/></svg>\n          </button>\n        )}\n        \n        {/* Next */}\n        <button\n          onClick={next}\n          className=\"p-2 hover:bg-gray-700 rounded-full\"\n          title=\"Suivant\"\n        >\n          <SkipForward size={20} />\n        </button>\n        \n        {/* Repeat */}\n        <button \n          onClick={toggleRepeat}\n          className={`p-2 rounded-full ${repeat !== 'none' ? 'bg-kodi-blue text-white' : 'hover:bg-gray-700'}`}\n          title={repeat === 'none' ? 'RÃ©pÃ©tition dÃ©sactivÃ©e' : repeat === 'all' ? 'RÃ©pÃ©ter tout' : 'RÃ©pÃ©ter une'}\n        >\n          {repeat === 'one' ? <Repeat1 size={18} /> : <Repeat size={18} />}\n        </button>\n      </div>\n      {/* Fader volume */}\n      <div className=\"flex items-center gap-2 ml-4\">\n        <svg width=\"20\" height=\"20\" fill=\"currentColor\"><path d=\"M3 9v6h4l5 5V4L7 9H3z\"/></svg>\n        <input\n          type=\"range\"\n          min={0}\n          max={1}\n          step={0.01}\n          value={volume}\n          onChange={e => setVolume(Number(e.target.value))}\n          className=\"accent-kodi-blue\"\n          style={{ width: 80 }}\n        />\n      </div>\n    </div>\n  )\n}\n\nfunction formatTime(sec: number) {\n  if (!sec || isNaN(sec)) return \"0:00\"\n  const m = Math.floor(sec / 60)\n  const s = Math.floor(sec % 60)\n  return `${m}:${s.toString().padStart(2, \"0\")}`\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}