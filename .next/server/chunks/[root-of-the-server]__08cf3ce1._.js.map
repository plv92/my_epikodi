{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 68, "column": 0}, "map": {"version":3,"sources":["file:///home/plv92/Desktop/TEK3/Epikodi/src/app/api/playlists/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\";\nimport { PrismaClient } from \"@prisma/client\";\n\nconst prisma = new PrismaClient();\n\n// GET /api/playlists - Liste toutes les playlists\nexport async function GET() {\n  try {\n    const playlists = await prisma.playlist.findMany({\n      include: {\n        tracks: {\n          include: {\n            track: true,\n          },\n          orderBy: {\n            position: 'asc',\n          },\n        },\n      },\n      orderBy: {\n        updatedAt: 'desc',\n      },\n    });\n    return NextResponse.json(playlists);\n  } catch (error) {\n    console.error(\"Erreur API playlists:\", error);\n    return NextResponse.json([], { status: 200 }); // Retourner un tableau vide plutôt qu'une erreur\n  }\n}\n\n// POST /api/playlists - Crée une nouvelle playlist\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { name, description } = body;\n\n    if (!name) {\n      return NextResponse.json({ error: \"Le nom est requis\" }, { status: 400 });\n    }\n\n    const playlist = await prisma.playlist.create({\n      data: {\n        name,\n        description: description || null,\n      },\n    });\n\n    return NextResponse.json(playlist, { status: 201 });\n  } catch (error) {\n    return NextResponse.json({ error: \"Erreur lors de la création de la playlist\" }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,6HAAA,CAAA,eAAY;AAGxB,eAAe;IACpB,IAAI;QACF,MAAM,YAAY,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC;YAC/C,SAAS;gBACP,QAAQ;oBACN,SAAS;wBACP,OAAO;oBACT;oBACA,SAAS;wBACP,UAAU;oBACZ;gBACF;YACF;YACA,SAAS;gBACP,WAAW;YACb;QACF;QACA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,EAAE,EAAE;YAAE,QAAQ;QAAI,IAAI,iDAAiD;IAClG;AACF;AAGO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,GAAG;QAE9B,IAAI,CAAC,MAAM;YACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAoB,GAAG;gBAAE,QAAQ;YAAI;QACzE;QAEA,MAAM,WAAW,MAAM,OAAO,QAAQ,CAAC,MAAM,CAAC;YAC5C,MAAM;gBACJ;gBACA,aAAa,eAAe;YAC9B;QACF;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD,EAAE,OAAO,OAAO;QACd,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAA4C,GAAG;YAAE,QAAQ;QAAI;IACjG;AACF","debugId":null}}]
}